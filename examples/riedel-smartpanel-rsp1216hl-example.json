[
    {
        "id": "rsp1216_example_flow",
        "type": "tab",
        "label": "RIEDEL RSP-1216HL SmartPanel Example",
        "disabled": false,
        "info": "# RIEDEL RSP-1216HL SmartPanel Example\n\nComplete example for RSP-1216HL SmartPanel (16 keys, 4 displays, 4 rotaries, 8 leverkeys).\n\n## Features Demonstrated:\n- LED color control (red, green, amber, off)\n- LED brightness control (0-100)\n- OLED display text writing (multi-line)\n- Rotary encoder handling (left, right, push)\n- Button press/release events\n- LeverKey up/down events\n- Color profile application\n\n## Setup:\n1. Configure nmos-config node with registry URL\n2. Set MQTT broker URL\n3. Select RSP-1216HL preset in panel configuration\n4. Deploy and test with inject nodes"
    },
    {
        "id": "rsp1216_panel",
        "type": "nmos-riedel-artist",
        "z": "rsp1216_example_flow",
        "name": "RSP-1216HL Panel",
        "registry": "",
        "mqttBroker": "mqtt://localhost:1883",
        "deviceLabel": "RSP-1216HL SmartPanel",
        "deviceDescription": "Riedel 1200 series SmartPanel - 16 keys",
        "panelLabel": "SmartPanel 1216",
        "panelType": "smartpanel",
        "smartpanelPreset": "RSP-1216HL",
        "mqttQos": 1,
        "enableAudioRouting": true,
        "enableKeyControl": true,
        "matrixSourceId": "",
        "nodeId": "",
        "deviceId": "",
        "senderId": "",
        "receiverId": "",
        "x": 360,
        "y": 200
    },
    {
        "id": "debug_smartpanel",
        "type": "debug",
        "z": "rsp1216_example_flow",
        "name": "SmartPanel Events",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 620,
        "y": 200
    },
    {
        "id": "comment_led_control",
        "type": "comment",
        "z": "rsp1216_example_flow",
        "name": "LED Color Control Examples",
        "info": "Control LED colors for keys 1-16",
        "x": 160,
        "y": 40
    },
    {
        "id": "inject_led_red",
        "type": "inject",
        "z": "rsp1216_example_flow",
        "name": "Key 1: Red LED @ 100%",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "topic": "",
        "payload": "{\"action\":\"set_led_color\",\"keyId\":1,\"color\":\"red\",\"brightness\":100}",
        "payloadType": "json",
        "x": 170,
        "y": 80
    },
    {
        "id": "inject_led_green",
        "type": "inject",
        "z": "rsp1216_example_flow",
        "name": "Key 2: Green LED @ 75%",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "topic": "",
        "payload": "{\"action\":\"set_led_color\",\"keyId\":2,\"color\":\"green\",\"brightness\":75}",
        "payloadType": "json",
        "x": 170,
        "y": 120
    },
    {
        "id": "inject_led_amber",
        "type": "inject",
        "z": "rsp1216_example_flow",
        "name": "Key 3: Amber LED @ 50%",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "topic": "",
        "payload": "{\"action\":\"set_led_color\",\"keyId\":3,\"color\":\"amber\",\"brightness\":50}",
        "payloadType": "json",
        "x": 170,
        "y": 160
    },
    {
        "id": "inject_led_off",
        "type": "inject",
        "z": "rsp1216_example_flow",
        "name": "Key 4: LED Off",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "topic": "",
        "payload": "{\"action\":\"set_led_color\",\"keyId\":4,\"color\":\"off\",\"brightness\":0}",
        "payloadType": "json",
        "x": 140,
        "y": 200
    },
    {
        "id": "comment_display_control",
        "type": "comment",
        "z": "rsp1216_example_flow",
        "name": "Display Text Control Examples",
        "info": "Write text to OLED displays 1-4",
        "x": 170,
        "y": 260
    },
    {
        "id": "inject_display1_text",
        "type": "inject",
        "z": "rsp1216_example_flow",
        "name": "Display 1: Multi-line",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "topic": "",
        "payload": "{\"action\":\"send_display_text\",\"displayId\":1,\"text\":\"Camera 1\\nReady\",\"brightness\":100}",
        "payloadType": "json",
        "x": 160,
        "y": 300
    },
    {
        "id": "inject_display2_text",
        "type": "inject",
        "z": "rsp1216_example_flow",
        "name": "Display 2: Single line",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "topic": "",
        "payload": "{\"action\":\"send_display_text\",\"displayId\":2,\"text\":\"Director\"}",
        "payloadType": "json",
        "x": 160,
        "y": 340
    },
    {
        "id": "inject_display_line",
        "type": "inject",
        "z": "rsp1216_example_flow",
        "name": "Display 3 Line 1",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "topic": "",
        "payload": "{\"action\":\"send_display_line\",\"displayId\":3,\"lineNumber\":1,\"text\":\"Audio Engineer\"}",
        "payloadType": "json",
        "x": 150,
        "y": 380
    },
    {
        "id": "inject_display_line2",
        "type": "inject",
        "z": "rsp1216_example_flow",
        "name": "Display 3 Line 2",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "topic": "",
        "payload": "{\"action\":\"send_display_line\",\"displayId\":3,\"lineNumber\":2,\"text\":\"Available\"}",
        "payloadType": "json",
        "x": 150,
        "y": 420
    },
    {
        "id": "comment_color_profiles",
        "type": "comment",
        "z": "rsp1216_example_flow",
        "name": "Color Profile Examples",
        "info": "Apply predefined color profiles: idle, active, warning, off",
        "x": 160,
        "y": 480
    },
    {
        "id": "inject_profile_idle",
        "type": "inject",
        "z": "rsp1216_example_flow",
        "name": "Key 5: Idle (Green 50%)",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "topic": "",
        "payload": "{\"action\":\"apply_color_profile\",\"keyId\":5,\"profile\":\"idle\"}",
        "payloadType": "json",
        "x": 170,
        "y": 520
    },
    {
        "id": "inject_profile_active",
        "type": "inject",
        "z": "rsp1216_example_flow",
        "name": "Key 6: Active (Red 100%)",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "topic": "",
        "payload": "{\"action\":\"apply_color_profile\",\"keyId\":6,\"profile\":\"active\"}",
        "payloadType": "json",
        "x": 170,
        "y": 560
    },
    {
        "id": "inject_profile_warning",
        "type": "inject",
        "z": "rsp1216_example_flow",
        "name": "Key 7: Warning (Amber 75%)",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "topic": "",
        "payload": "{\"action\":\"apply_color_profile\",\"keyId\":7,\"profile\":\"warning\"}",
        "payloadType": "json",
        "x": 180,
        "y": 600
    },
    {
        "id": "inject_get_preset",
        "type": "inject",
        "z": "rsp1216_example_flow",
        "name": "Get Preset Config",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": false,
        "topic": "",
        "payload": "{\"action\":\"get_smartpanel_preset\"}",
        "payloadType": "json",
        "x": 150,
        "y": 680
    },
    {
        "id": "comment_setup",
        "type": "comment",
        "z": "rsp1216_example_flow",
        "name": "Setup: Configure SmartPanel Preset",
        "info": "1. Edit the RSP-1216HL Panel node\n2. Select SmartPanel Preset: RSP-1216HL\n3. Configure MQTT broker and registry\n4. Deploy",
        "x": 180,
        "y": 740
    },
    {
        "id": "inject_all_leds_green",
        "type": "inject",
        "z": "rsp1216_example_flow",
        "name": "All Keys: Green",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 3,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 800
    },
    {
        "id": "function_all_green",
        "type": "function",
        "z": "rsp1216_example_flow",
        "name": "Initialize All LEDs Green",
        "func": "// Initialize all 16 keys with green LEDs at 50%\nconst messages = [];\n\nfor (let i = 1; i <= 16; i++) {\n    messages.push({\n        payload: {\n            action: 'set_led_color',\n            keyId: i,\n            color: 'green',\n            brightness: 50\n        }\n    });\n}\n\nreturn [messages];",
        "outputs": 1,
        "noerr": 0,
        "x": 380,
        "y": 800
    },
    {
        "id": "inject_display_all",
        "type": "inject",
        "z": "rsp1216_example_flow",
        "name": "Set All Displays",
        "props": [{"p": "payload"}],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 4,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 840
    },
    {
        "id": "function_all_displays",
        "type": "function",
        "z": "rsp1216_example_flow",
        "name": "Initialize All Displays",
        "func": "// Initialize all 4 displays with labels\nconst displayLabels = [\n    ['Rotary 1', 'Keys 1-4'],\n    ['Rotary 2', 'Keys 5-8'],\n    ['Rotary 3', 'Keys 9-12'],\n    ['Rotary 4', 'Keys 13-16']\n];\n\nconst messages = [];\n\nfor (let i = 1; i <= 4; i++) {\n    messages.push({\n        payload: {\n            action: 'send_display_text',\n            displayId: i,\n            text: displayLabels[i-1].join('\\n'),\n            brightness: 100\n        }\n    });\n}\n\nreturn [messages];",
        "outputs": 1,
        "noerr": 0,
        "x": 380,
        "y": 840
    }
]
